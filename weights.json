{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://carl/schema/weights",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "indices": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "trust":   { "$ref": "#/$defs/indexDef" },
        "deesc":   { "$ref": "#/$defs/indexDef" },
        "conflict":{ "$ref": "#/$defs/indexDef" },
        "sync":    { "$ref": "#/$defs/indexDef" }
      },
      "required": ["trust", "deesc", "conflict", "sync"]
    },
    "calib": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "mu":    { "$ref": "#/$defs/four" },
        "sigma": { "$ref": "#/$defs/four" }
      },
      "required": ["mu", "sigma"]
    }
  },
  "required": ["indices", "calib"],
  "$defs": {
    "indexDef": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "w": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "ATO": { "type": "number" },
            "SEM": { "type": "number" },
            "CLU": { "type": "number" },
            "MEMA":{ "type": "number" }
          },
          "required": ["ATO", "SEM", "CLU", "MEMA"]
        },
        "bias": { "type": "number" }
      },
      "required": ["w", "bias"]
    },
    "four": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "trust":   { "type": "number" },
        "deesc":   { "type": "number" },
        "conflict":{ "type": "number" },
        "sync":    { "type": "number" }
      },
      "required": ["trust", "deesc", "conflict", "sync"]
    }
  },
  "examples": [
    {
      "indices": {
        "trust":   { "w": { "ATO": 0.35, "SEM": 0.30, "CLU": 0.20, "MEMA": 0.15 }, "bias": 0.0 },
        "deesc":   { "w": { "ATO": 0.40, "SEM": 0.25, "CLU": 0.20, "MEMA": 0.15 }, "bias": 0.0 },
        "conflict":{ "w": { "ATO": 0.30, "SEM": 0.25, "CLU": 0.25, "MEMA": 0.20 }, "bias": 0.0 },
        "sync":    { "w": { "ATO": 0.25, "SEM": 0.35, "CLU": 0.25, "MEMA": 0.15 }, "bias": 0.0 }
      },
      "calib": {
        "mu":    { "trust": 0.5, "deesc": 0.5, "conflict": 0.5, "sync": 0.5 },
        "sigma": { "trust": 0.2, "deesc": 0.2, "conflict": 0.2, "sync": 0.2 }
      }
    }
  ]
}


